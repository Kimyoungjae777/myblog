---
title: "관점지향 프로그래밍(AOP)"
author: "Young Jae Kim"
date: '2022-12-31'
categories: 
- Development
- 기본개념
tags:
- Development
- 기본개념

---
# 관점지향 프로그래밍(AOP,Aspect Oriented Programming)는 무엇이고, 언제 사용할 수 있을까요?

- AOP는 OOP(Object Oriented Programming, 객체지향 프로그래밍)을 돕는 보조적인 기술로, 관심사의 분리(기능의분리)의 문제를 해결하기 위해 만들어진 프로그래밍 패러다임 입니다.

- AOP는 기능을 핵심관심사항 과 공통 관심사항 으로 분리시키고 각각을 모듈화 하는 것을 의미합니다

- 업무 로직을 포함하는 기능을 핵심기능
- 핵심기능을 도와주는 부가적인 기능을 부가기능 이라고 부른다
- OOP를 적용하여도 핵심기능에서 부가기능을 쉽게 분리된 모듈로 작성하기 어려운 문제점을 AOP가 해결해준다.
- AOP는 부가 기능을 애스펙트(Aspect)로 정의하여, 핵심기능에서 부가기능을 분리함으로써 핵심 기능을 설계하고 구현할 때 객체지향적인 가치를 지킬수 있게 도와주는 개념이다 .

[간단한 소스코드로 AOP 살펴보기]

![Untitled](images/AOP/0.png)

- 핵심기능을 하는 business logic 과 부가기능을 하는 코드 AAAA,BBBB를 볼 수 있습니다.
- AAAA,BBBB 가 여기저기서 사용되고 흩어져 있기 때문에 코드변경이 필요한경우 일일이 다 찾아서 바꿔줘야 합니다.
- AOP는 그렇게 하지 않고 여러곳에서 사용되는 중복된 코드를 떼어내서 분리하고, method a,b,c는 각각 business Logic 만을 갖고 있자. 라는 개념입니다.
- 여기서 AAAA,BBBB가 AOP에서 말하는 Aspect 입니다.

**즉 필수적이지만 어쩔 수 없이 반복적으로 사용되는 코드들을 리펙토링할 수 있도록 해줍니다. 이로인해 여러곳에서 사용될만한 코드들이 한곳에서 유지하고 관리할 수 있는 이점을 갖게 됩니다**

### AOP를 설명해보아라

- AOP는 핵심 비즈니스 로직에 있는 공통 관심사항을 분리하여 각각을 모듈화 하는 것을 의미하며, 공통 모듈인 인증, 로깅, 트랜잭션 처리에 용이합니다
- 핵심 비즈니스 로직에 부가기능을 하는 모듈이 중복되어 분포되어 있는경우 사용할 수 있습니다 .
- AOP의 가장 큰 특징이자 장점은 중복 코드제거, 재활용성의 극대화, 변화수용의 용이성이 좋다는 점 입니다.

![Untitled](images/AOP/1.png)

### AOP 용어에 대해 알아보자**.**

1. **Target**
- 부가기능을 부여할 대상(핵심기능을 담고 있는 모듈)
1. **Aspect**
- 부가기능 모듈을 Aspect라고 부른다 (핵심기능에 부가되어 의미를 갖는 모듈)
- 부가될 기능을 정의한 Advice와 Advice를 어디에 적용할지를 결정하는 PointCut을 함께 갖고 있다.
- 어플리케이션의 핵심적인 기능에서, 부가적인 기능을 분리해서, Aspect 라는 모듈로 만들어서 설계하고 개발하는 방법.

3.**Advice**

- 실질적으로 부가기능을 담은 구현체
- 타겟 오브젝트에 종속되지 않기 때문에, 부가기능에만 집중할 수 있음
- Aspect가 무엇을 언제 할지를 정의

4.**PointCut**

- 부가기능이 적용될 대상(Method)을 선정하는 방법
- Advice를 적용할 JoinPoint를 선별하는 기능을 정의한 모듈

5.**JoinPoint**

- Advice가 적용될 수 있는 위치
- Spring에서는 메소드 조인포인트만 제공한다.
- 타겟 객체가 구현한 모든 메소드는 조인포인트가 된다.

**6.proxy**

- Target을 감싸서 Target의 요청을 대신 받아주는 랩핑 오브젝트
- 클라이언트에서 Target을 호출하게되면, 타겟이 아닌 타겟을 감싸고 있는 proxy가 호출되어, 타겟 메소드 실행 전에 선처리,후처리를 실행한다.

**7.Introduction**

- 타겟 클래스에 코드변경없이 신규메소드나 멤버변수를 추가하는 기능

**8.Weaving**

- 지정된 객체에 Aspect를 적용해서, 새로운 프록시 객체를 생성하는 과정
- Spring AOP는 런타임에서 프록시 객체가 생성된다